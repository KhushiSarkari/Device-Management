import { HitApi } from "./HitApi";
import { HtmlElementsData } from "./HtmlElementsId";
<<<<<<< HEAD
import { localHostUrl } from "./LocalHost";
import { findResult } from "./search";
=======
import { BASEURL } from "./globals";
>>>>>>> develop


export class Sort 
{    
    elements : HtmlElementsData
    constructor()
    {
        this.elements = new HtmlElementsData();
    }
    sortBy(attributeId : string)
    {
        
        let  sortType = this.checkSortType(attributeId);
<<<<<<< HEAD
      //  let userName = (document.getElementById(new HtmlElementsData().search)  as HTMLInputElement).getAttribute(this.elements.userName);
        this.setSortingApiCall(attributeId , sortType);
=======
        let find = (document.getElementById( this.elements.search) as HTMLInputElement).value;
        this.setSortingApiCall(attributeId , find  , sortType);
>>>>>>> develop
        
    }
    checkSortType(value : string) : string
    {
        const type = document.getElementById(value).getAttribute("class");
        (document.getElementById(this.elements.thead) as HTMLTableRowElement).setAttribute("sort", value);
        if (type ===  this.elements.upArrow)
        {
         document.getElementById(value).setAttribute("class" ,  this.elements.downArrow);
         (document.getElementById(this.elements.thead) as HTMLTableRowElement).setAttribute("sortby", "DESC");
         return "DESC";
        }
        else{
         document.getElementById(value).setAttribute("class" ,  this.elements.upArrow);
         (document.getElementById(this.elements.thead) as HTMLTableRowElement).setAttribute("sortby", "ASC")
         return "ASC";
        }
         
    }

<<<<<<< HEAD
    setSortingApiCall(sortAttribute : string  , sortType : string)
    {
        const uri= new findResult().searchUser() + "&sort="+sortAttribute+"&sort-type="+sortType;
=======
    setSortingApiCall(sortAttribute : string , find  : string , sortType : string)
    {
        const uri= BASEURL+"/sorting?find="+encodeURI(find)+"&sort="+sortAttribute+"&sort-type="+sortType;
>>>>>>> develop
        
        var populateSorting = new HitApi();
        
        populateSorting.HitGetApi(uri);
    }


<<<<<<< HEAD

=======
    
>>>>>>> develop
}